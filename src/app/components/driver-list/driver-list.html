<div class="container mt-4">
   <div class="d-flex justify-content-between align-items-center mb-4">
    <h2>Drivers</h2>
    <button class="btn btn-success" routerLink="/drivers/create">
      <i class="fa fa-plus me-1"></i> Create New Driver
    </button>
    
  </div>


   <div *ngIf="errorMessage" class="alert alert-danger">
    {{ errorMessage }}
  </div>

 <!-- <div *ngIf="isLoading" class="text-center">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div> -->

  <div class="table-responsive" >
    <table class="table table-striped table-hover">


    <thead>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>License</th>
        <th>Contact</th>
          <th>Image</th>
        <th>Status</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      @for (driver of drivers(); track driver.driId) {
          <tr>
            <td>{{ driver.driId }}</td>
            <td>{{ driver.driName }}</td>
            <td>{{ driver.licenseNum }}</td>
            <td>{{ driver.contact }}</td>
            <td>{{ driver.imageUrl }}
               <img *ngIf="driver.imageUrl" width="120" [src]="driver.imageUrl" />
            </td>
             
            <td>
              <span [ngClass]="driver.isAvailable ? 'badge bg-success' : 'badge bg-danger'">
                {{ driver.isAvailable ? 'Available' : 'Not Available' }}
              </span>
            </td>
            <td>
              <div>
                <button class="btn btn-info" [routerLink]="['/drivers/edit', driver.driId]">
                 Edit
                </button>
                <button class="btn btn-danger" (click)="deleteDriver(driver.driId)">
                Delete
                </button>
              </div>
            </td>
          </tr>
        } @empty {
          <tr>
            <td colspan="6" class="text-center text-muted">No drivers found</td>
          </tr>
        }
    </tbody>
  </table>
</div>
</div>